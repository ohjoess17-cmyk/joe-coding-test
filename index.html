<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotto Generator - Apple Style</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>Lotto 6/45</h1>
            <p class="subtitle">AI 기반 번호 생성 및 분석</p>
            <div class="latest-draw">
                <span class="draw-label">1210회 당첨번호:</span>
                <div class="mini-balls" id="main-target-balls">
                    <!-- JS will fill this -->
                </div>
                <span class="draw-label" style="margin-left: 10px;">+ 보너스:</span>
                <div class="mini-balls" id="bonus-target-ball">
                     <!-- JS will fill this -->
                </div>
            </div>
        </header>

        <main>
            <div class="user-section">
                <input type="text" id="user-id" placeholder="사용자 ID를 입력하세요">
                <button id="login-btn">접속</button>
            </div>
            <div id="user-status" class="user-status-message">로그인이 필요합니다.</div>

            <nav class="tabs">
                <button class="tab-btn active" data-tab="lotto">번호 생성</button>
                <button class="tab-btn" data-tab="game">당첨 시뮬레이터</button>
                <button class="tab-btn" data-tab="mypage">나의 기록</button>
                <button class="tab-btn" data-tab="stats">통계 분석</button>
            </nav>

            <div class="tab-content">
                <!-- 번호 생성 섹션 -->
                <section id="lotto-tab" class="tab-pane active">
                    <div id="welcome-message" class="welcome-container">
                        <h2>Welcome</h2>
                        <p>AI가 분석한 최적의 번호 조합을 생성합니다.<br>먼저 ID를 입력하고 시작하세요.</p>
                    </div>
                    <div id="result-area" class="hidden">
                        <div class="lotto-rows-container"></div>
                    </div>
                    <button id="generate-btn" class="cta-button" disabled>새로운 번호 생성</button>
                </section>

                <!-- 당첨 게임 섹션 -->
                <section id="game-tab" class="tab-pane">
                    <div class="game-container">
                        <div class="simulation-area">
                            <div class="section-title">시뮬레이션</div>
                            <div class="counter-display">
                                <span class="counter-label">누적 추첨 횟수</span>
                                <div id="draw-count" class="counter-number">0</div>
                            </div>
                            <div class="draw-display" id="current-draw-balls">
                                <div class="empty-balls-placeholder">버튼을 클릭하여 추첨을 시작하세요</div>
                            </div>
                            <div id="game-status" class="game-status-message">1등에 도전하세요!</div>
                             <div class="game-controls">
                                <button id="draw-once-btn" class="cta-button game-btn">추첨 실행</button>
                                <button id="reset-game-btn" class="secondary-btn">기록 초기화</button>
                            </div>
                        </div>
                        
                        <div class="recent-wins-box">
                            <div class="section-title">최근 당첨 기록</div>
                            <div id="recent-wins-list">
                                <p class="empty-msg">아직 당첨 기록이 없습니다.</p>
                            </div>
                        </div>

                        <div class="leaderboard-box">
                             <div class="section-title">명예의 전당 (1등)</div>
                             <div id="leaderboard-list"></div>
                        </div>
                    </div>
                </section>

                <!-- 나의 기록 섹션 -->
                <section id="mypage-tab" class="tab-pane">
                    <div class="mypage-header">
                        <div class="profile-info">
                            <h2 id="profile-id">User ID</h2>
                            <p id="profile-stat">저장된 조합: 0개</p>
                        </div>
                    </div>
                    <div id="history-list"></div>
                </section>
                
                <!-- 통계 섹션 -->
                <section id="stats-tab" class="tab-pane">
                    <h2>글로벌 통계</h2>
                    <p>모든 사용자가 생성한 번호를 바탕으로 집계된 통계입니다.</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>가장 많이 나온 수 (Top 5)</h3>
                            <div id="top-numbers"></div>
                        </div>
                        <div class="stat-card">
                            <h3>가장 적게 나온 수 (Top 5)</h3>
                            <div id="bottom-numbers"></div>
                        </div>
                        <div class="stat-card">
                            <h3>번호 합계 분포</h3>
                            <div id="sum-distribution"></div>
                        </div>
                        <div class="stat-card">
                            <h3>홀/짝 비율</h3>
                            <div id="odd-even-stats"></div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
        
        <footer>
            <p>© 2026 Apple Inspired Lotto. Not affiliated with Apple Inc.</p>
        </footer>
    </div>

    <!-- 당첨 이펙트용 컨테이너 -->
    <div id="toast-container"></div>
    <div id="dramatic-overlay" class="dramatic-overlay hidden"></div>
    <div id="win-popup" class="win-popup hidden">
        <div class="win-popup-content">
            <span class="win-popup-close">&times;</span>
            <h2>축하합니다!</h2>
            <p>1등에 당첨되셨습니다!</p>
            <div class="fireworks"></div>
            <button id="win-popup-close-btn">확인</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
